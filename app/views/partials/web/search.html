<div ng-include src="'partials/layout/navbar.html'"></div>

<div class="container" id="searchpage">
  <div class="row">
    <aside class="search-col col-md-4 col-sm-12">
      <form class="input-group" ng-submit="search()">
        <div class="input-group">
          <input type="search" name="query" class="form-control" ng-model="query">
          <span class="input-group-btn">
            <button class="btn btn-default yellow" type="button" ng-click="search()"><span class="fa fa-search"></span></button>
          </span>
        </div>

        <hr />
        <div class="checkbox">
          <label>
            <input type="checkbox" ng-model="filter.users">
            Users
          </label>
        </div>
        <div class="checkbox">
          <label>
            <input type="checkbox" ng-model="filter.trails">
            Trails
          </label>
        </div>
        <div class="checkbox">
          <label>
            <input type="checkbox" ng-model="filter.pois">
            Points of Interest
          </label>
        </div>


        <hr />
        <p class="text-center"><strong>{{filter.difficulty.min}} - {{filter.difficulty.max}}</strong></p>
        <div>
          Lowest difficulty
          <input type="range" min="0" max="100" ng-model="filter.difficulty.min">
        </div>
        <div>
          Highest difficulty
          <input type="range" min="0" max="100" ng-model="filter.difficulty.max">
        </div>
        <hr />


      </form>
    </aside>

  <main class="col-md-8">
    <ul>
      <li ng-repeat="item in searchResults" class="row">
        <!-- Track -->
        <a ui-sref="{{makeRef(item)}}" class="col-sm-12 col-xs-12">
          <article>
            <div class="icon col-md-2 col-sm-2 col-xs-2">
              <img ng-src="{{makeIconUrl(item)}}" alt="icon">
            </div>
            <div class="info col-md-9 col-sm-10 col-xs-10">
              <h5>{{item.name}}</h5>
              <div class="details">
                <p ng-if="item.content">{{item.content | limitTo: 40 }}...</p>
                <p ng-if="item.comments"><span class="fa fa-comment"> {{item.comments || 0}} </span>
                <p ng-if="item.author"><span class="fa fa-user">&nbsp;</span> {{item.author}} </p>
              </div>
            </div>
          </article>
        </a>
      </li>
    </ul>
  </main>
  <div>
</div>
